<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lego Disruptive Block Chain by Daby</title>
    <!-- Mermaid JS for Diagrams -->
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        :root {
            --bg-dark: #0f1115;
            --bg-card: #181b21;
            --accent: #00ff9d; /* Neon Green */
            --accent-dim: rgba(0, 255, 157, 0.1);
            --text-main: #ffffff;
            --text-muted: #a0a0a0;
            --border: #2d333b;
            --brazil-yellow: #ffcc00;
            --brazil-green: #009c3b;
            --error: #ff4d4d;
            --vs-color: #ff0055;
            --power-color: #00ccff; /* New color for Power Move */
        }

        * { box-sizing: border-box; margin: 0; padding: 0; font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif; }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            line-height: 1.6;
            padding-bottom: 50px;
        }

        /* Header */
        header {
            background: linear-gradient(90deg, #000 0%, #1a1a1a 100%);
            padding: 2rem;
            border-bottom: 1px solid var(--border);
            text-align: center;
        }

        h1 {
            font-size: 2rem;
            text-transform: uppercase;
            letter-spacing: 2px;
            background: linear-gradient(to right, #fff, var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 0.5rem;
        }

        .subtitle { color: var(--text-muted); font-size: 0.9rem; }

        /* Navigation Tabs */
        .nav-container {
            display: flex;
            justify-content: center;
            gap: 10px;
            padding: 20px;
            flex-wrap: wrap;
            background: rgba(255,255,255,0.02);
        }

        .nav-btn {
            background: transparent;
            border: 1px solid var(--border);
            color: var(--text-muted);
            padding: 12px 24px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: 600;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .nav-btn:hover { border-color: var(--accent); color: var(--text-main); }
        .nav-btn.active {
            background: var(--accent);
            color: #000;
            border-color: var(--accent);
            box-shadow: 0 0 15px var(--accent-dim);
        }

        /* Main Content */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }

        .intro-section {
            background: var(--bg-card);
            padding: 30px;
            border-left: 4px solid var(--accent);
            margin-bottom: 30px;
        }

        .intro-title { font-size: 1.5rem; margin-bottom: 10px; color: var(--accent); }
        .intro-text { color: var(--text-muted); font-size: 1.1rem; }

        /* Diagram Container */
        .diagram-container {
            background: rgba(0,0,0,0.3);
            border: 1px dashed var(--border);
            padding: 20px;
            margin-top: 20px;
            border-radius: 8px;
            text-align: center;
        }
        .diagram-label {
            color: var(--accent);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 1.5px;
            margin-bottom: 10px;
            display: block;
        }

        /* Comparison Box (Used for As Per) */
        .comparison-box {
            background: rgba(255, 255, 255, 0.03);
            border: 1px solid var(--border);
            padding: 20px;
            margin-top: 20px;
            border-radius: 4px;
        }
        .comp-title { color: var(--vs-color); font-weight: bold; text-transform: uppercase; font-size: 0.9rem; margin-bottom: 10px; }
        .comp-text { color: #ddd; font-size: 1rem; margin-bottom: 15px; }

        .comp-examples {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 15px;
        }

        .comp-example-card {
            background: rgba(0,0,0,0.3);
            padding: 15px;
            border-left: 2px solid var(--vs-color);
        }

        .comp-ex-label { font-size: 0.75rem; color: var(--vs-color); text-transform: uppercase; margin-bottom: 5px; }
        .comp-ex-text { font-style: italic; color: #ccc; font-size: 0.9rem; }

        /* Power Move Box (Used for Standpoint) */
        .power-box {
            background: rgba(0, 204, 255, 0.05);
            border: 1px solid var(--power-color);
            padding: 20px;
            margin-top: 20px;
            border-radius: 4px;
        }
        .power-title { color: var(--power-color); font-weight: bold; text-transform: uppercase; font-size: 0.9rem; margin-bottom: 10px; }
        .power-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .power-col h4 { color: #fff; font-size: 0.9rem; margin-bottom: 8px; text-transform: uppercase; }
        .power-col p { color: #aaa; font-size: 0.95rem; }
        .power-bad { color: var(--error); }
        .power-good { color: var(--accent); }

        /* Scenarios Grid */
        .scenarios-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }

        .card {
            background: var(--bg-card);
            border: 1px solid var(--border);
            padding: 25px;
            border-radius: 4px;
            transition: transform 0.2s;
            display: flex;
            flex-direction: column;
        }

        .card:hover { transform: translateY(-5px); border-color: var(--text-muted); }

        .card-header {
            font-size: 0.85rem;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 10px;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
        }

        .scenario-text {
            font-style: italic;
            font-size: 1.1rem;
            margin-bottom: 15px;
            color: #fff;
            border-left: 2px solid var(--text-muted);
            padding-left: 15px;
        }

        .context-text { font-size: 0.9rem; color: var(--text-muted); margin-bottom: 20px; }

        /* Brazilian Grasp Box */
        .brazil-box {
            background: linear-gradient(135deg, rgba(0, 156, 59, 0.15) 0%, rgba(255, 204, 0, 0.05) 100%);
            border: 1px solid var(--brazil-green);
            padding: 20px;
            margin-top: auto;
            border-radius: 4px;
            position: relative;
        }

        .brazil-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            border-bottom: 1px solid rgba(255,255,255,0.1);
            padding-bottom: 8px;
        }

        .flag-icon { font-size: 1.5rem; }

        .brazil-equiv-label {
            color: var(--brazil-yellow);
            font-size: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .brazil-equiv-text {
            color: #fff;
            font-weight: 900;
            font-size: 1.1rem;
            text-transform: uppercase;
            display: block;
        }

        .brazil-explanation {
            color: #ccc;
            font-size: 0.9rem;
            line-height: 1.4;
        }

        /* Exercise Section */
        .exercise-section {
            background: #111;
            border: 1px solid var(--border);
            padding: 40px;
            text-align: center;
            margin-top: 50px;
            position: relative;
            overflow: hidden;
        }

        .exercise-section::before {
            content: "PARTICIPATIVE EXERCISE";
            position: absolute;
            top: 10px;
            left: 10px;
            font-size: 0.7rem;
            color: var(--text-muted);
            letter-spacing: 2px;
        }

        .prompt { font-size: 1.2rem; margin-bottom: 20px; color: #fff; }

        .input-area {
            width: 100%;
            max-width: 600px;
            padding: 15px;
            background: #000;
            border: 1px solid var(--border);
            color: #fff;
            font-size: 1rem;
            margin-bottom: 20px;
            border-radius: 4px;
        }

        .input-area:focus { outline: none; border-color: var(--accent); }

        .check-btn {
            background: var(--accent);
            color: #000;
            border: none;
            padding: 12px 30px;
            font-weight: bold;
            cursor: pointer;
            font-size: 1rem;
            text-transform: uppercase;
        }

        .check-btn:hover { background: #fff; }

        .feedback {
            margin-top: 20px;
            font-weight: bold;
            min-height: 24px;
        }
        .feedback.success { color: var(--accent); }
        .feedback.error { color: var(--error); }

        @media (max-width: 600px) {
            .comp-examples, .power-grid { grid-template-columns: 1fr; }
        }

    </style>
</head>
<body>

    <header>
        <h1>Lego Disruptive Block Chain <span style="font-size:0.5em; vertical-align: middle; color:#666;">by Daby</span></h1>
        <p class="subtitle">High-Level English for Brazilian Decision Makers</p>
    </header>

    <nav class="nav-container">
        <button class="nav-btn active" onclick="switchTab('as-per')">As Per</button>
        <button class="nav-btn" onclick="switchTab('ongoing-issues')">Ongoing Issues</button>
        <button class="nav-btn" onclick="switchTab('standpoint')">From My Standpoint</button>
    </nav>

    <div id="content-area" class="container">
        <!-- Content will be injected here by JavaScript -->
    </div>

    <script>
        // Initialize Mermaid
        mermaid.initialize({ startOnLoad: false, theme: 'dark' });

        // --- DATA STORE ---
        const lessonData = {
            "as-per": {
                title: "As Per",
                why: "Stop saying 'According to' for everything. 'As per' is the language of contracts, compliance, and binding agreements. It protects you.",
                diagramCode: `
                graph TD
                  A[Start: You need to cite a source] --> B{Is it a Rule, Contract, or Law?}
                  B -- YES --> C[Use: AS PER]
                  B -- NO --> D[Use: ACCORDING TO]
                  C --> E[Formal & Binding]
                  D --> F[Neutral & General]
                  style C fill:#00ff9d,color:#000,stroke:#fff
                  style D fill:#ff0055,color:#fff,stroke:#fff
                `,
                comparison: {
                    title: "VS: According to vs. As Per",
                    text: "<strong>According to</strong> is general and neutral (e.g., news, weather, public info). <strong>As per</strong> is formal and binding, used specifically for rules, contracts, and instructions.",
                    examples: [
                        {
                            label: "Correct usage of 'According to'",
                            text: "\"According to the latest Bloomberg report, the dollar is rising against the real.\""
                        },
                        {
                            label: "Correct usage of 'According to'",
                            text: "\"According to a study by FGV, remote work productivity has increased by 15%.\""
                        }
                    ]
                },
                scenarios: [
                    {
                        company: "Nubank",
                        role: "Compliance Director",
                        name: "Mariana",
                        text: "\"As per the new Central Bank regulations (BACEN), we need to adjust the KYC flow by Friday.\"",
                        context: "Mariana isn't asking for a favor. She is stating a requirement based on external authority."
                    },
                    {
                        company: "Embraer",
                        role: "Logistics VP",
                        name: "Roberto",
                        text: "\"As per our SLA with the supplier, they are liable for this delay, not us.\"",
                        context: "Roberto is using the contract to defend his team's position and shift liability."
                    },
                    {
                        company: "XP Investimentos",
                        role: "Project Manager",
                        name: "Felipe",
                        text: "\"As per our discussion this morning, I have halted the merger process.\"",
                        context: "Documenting a verbal agreement in an email to ensure there is a paper trail."
                    }
                ],
                brazilEquiv: "CONFORME / CONSOANTE",
                brazilTip: "Use para citar documentos, leis ou e-mails anteriores. Ã‰ a sua ferramenta de defesa corporativa.",
                exercise: {
                    prompt: "Translate: 'Conforme o contrato, o pagamento Ã© devido hoje.'",
                    keywords: ["contract", "payment", "due"],
                    successMsg: "Perfect. You sounded authoritative.",
                    failMsg: "Try again. Did you use 'As per', 'contract', and 'due'?"
                }
            },
            "ongoing-issues": {
                title: "Ongoing Issues",
                why: "Don't say 'We have problems'. That sounds weak. 'Ongoing issues' implies you are aware of the situation and managing it professionally.",
                diagramCode: `
                graph LR
                  A(Problem Occurs) --> B{Your Reaction}
                  B -- Amateur --> C["We have a problem"]
                  B -- Pro --> D["We have an ONGOING ISSUE"]
                  D --> E[Implies: I am fixing it]
                  style D fill:#00ff9d,color:#000
                `,
                scenarios: [
                    {
                        company: "iFood",
                        role: "CTO",
                        name: "Juliana",
                        text: "\"We are aware of the ongoing issues with the payment gateway and a patch is being deployed.\"",
                        context: "Juliana admits the problem exists but frames it as a continuous state that is being handled."
                    },
                    {
                        company: "MRV Engenharia",
                        role: "Site Manager",
                        name: "Carlos",
                        text: "\"Due to ongoing issues with the municipal permits, phase 2 is paused.\"",
                        context: "Explaining a delay without sounding incompetent; the issues are external and continuous."
                    },
                    {
                        company: "Ambev",
                        role: "HR Director",
                        name: "Fernanda",
                        text: "\"We need to address the ongoing issues regarding talent retention in the tech team.\"",
                        context: "Identifying a systemic trend rather than a one-time error."
                    }
                ],
                brazilEquiv: "PENDÃŠNCIAS / QUESTÃ•ES EM ABERTO",
                brazilTip: "Evite dizer 'problems'. 'Issues' Ã© mais profissional, e 'Ongoing' mostra que Ã© algo recorrente que vocÃª jÃ¡ estÃ¡ gerenciando.",
                exercise: {
                    prompt: "Translate: 'NÃ³s estamos resolvendo as questÃµes pendentes (em andamento) com o servidor.'",
                    keywords: ["resolving", "solving", "ongoing issues", "server"],
                    successMsg: "Excellent. You framed the problem professionally.",
                    failMsg: "Make sure to use 'ongoing issues' and 'server'."
                }
            },
            "standpoint": {
                title: "From My Standpoint",
                why: "Stop saying 'I think'. 'I think' is weak; it sounds like a guess. 'From my standpoint' is a power move. It signals that your opinion is not personalâ€”it is a professional assessment based on your specific role (CFO, CTO, Legal). It adds weight and authority to your words immediately.",
                diagramCode: `
                graph TD
                  Decision((THE DECISION))
                  CFO[CFO] -- "Financial Standpoint" --> Decision
                  CTO[CTO] -- "Tech Standpoint" --> Decision
                  Legal[Legal] -- "Legal Standpoint" --> Decision
                  style Decision fill:#fff,color:#000
                  style CFO stroke:#00ff9d
                  style CTO stroke:#00ff9d
                  style Legal stroke:#00ff9d
                `,
                powerMove: {
                    title: "The Authority Shift",
                    bad: "<strong>Junior:</strong> \"I think this is risky.\" <br><em>(Sounds like fear or a guess)</em>",
                    good: "<strong>Executive:</strong> \"From a financial standpoint, this is risky.\" <br><em>(Sounds like data and analysis)</em>"
                },
                scenarios: [
                    {
                        company: "ItaÃº",
                        role: "CFO",
                        name: "Ricardo",
                        text: "\"From a financial standpoint, this acquisition is too risky right now.\"",
                        context: "Ricardo is not guessing; he is speaking from his professional angle."
                    },
                    {
                        company: "Havaianas",
                        role: "Design Lead",
                        name: "Ana",
                        text: "\"From my standpoint, the neon palette fits the global trend perfectly.\"",
                        context: "Asserting expertise in a specific domain (Design)."
                    },
                    {
                        company: "Vale",
                        role: "Legal Counsel",
                        name: "Pedro",
                        text: "\"From a legal standpoint, we are safe. But from a PR standpoint, it's a disaster.\"",
                        context: "Separating two different professional views within the same sentence."
                    }
                ],
                brazilEquiv: "NA MINHA VISÃƒO TÃ‰CNICA",
                brazilTip: "Pare de falar 'I think'. Quando vocÃª diz 'From my standpoint', vocÃª estÃ¡ dizendo: 'Baseado na minha cadeira e experiÃªncia...'.",
                exercise: {
                    prompt: "Translate: 'Do meu ponto de vista, o projeto Ã© viÃ¡vel.'",
                    keywords: ["standpoint", "project", "viable", "feasible"],
                    successMsg: "Great. You asserted your opinion with weight.",
                    failMsg: "Use 'From my standpoint' and 'viable' or 'feasible'."
                }
            }
        };

        // --- LOGIC ---
        let currentKey = 'as-per';

        async function renderContent(key) {
            currentKey = key;
            const data = lessonData[key];
            const container = document.getElementById('content-area');

            // Optional Comparison Box (As Per)
            let comparisonHTML = '';
            if (data.comparison) {
                let examplesHTML = '';
                if (data.comparison.examples) {
                    examplesHTML = `<div class="comp-examples">
                        ${data.comparison.examples.map(ex => `
                            <div class="comp-example-card">
                                <div class="comp-ex-label">${ex.label}</div>
                                <div class="comp-ex-text">${ex.text}</div>
                            </div>
                        `).join('')}
                    </div>`;
                }

                comparisonHTML = `
                    <div class="comparison-box">
                        <div class="comp-title">${data.comparison.title}</div>
                        <div class="comp-text">${data.comparison.text}</div>
                        ${examplesHTML}
                    </div>
                `;
            }

            // Optional Power Move Box (Standpoint)
            let powerHTML = '';
            if (data.powerMove) {
                powerHTML = `
                    <div class="power-box">
                        <div class="power-title">${data.powerMove.title}</div>
                        <div class="power-grid">
                            <div class="power-col">
                                <h4 class="power-bad">Weak</h4>
                                <p>${data.powerMove.bad}</p>
                            </div>
                            <div class="power-col">
                                <h4 class="power-good">Strong</h4>
                                <p>${data.powerMove.good}</p>
                            </div>
                        </div>
                    </div>
                `;
            }

            // Generate Scenarios HTML
            let scenariosHTML = data.scenarios.map(s => `
                <div class="card">
                    <div class="card-header">
                        <span>${s.company}</span>
                        <span>${s.role}: ${s.name}</span>
                    </div>
                    <div class="scenario-text">${s.text}</div>
                    <div class="context-text">${s.context}</div>

                    <div class="brazil-box">
                        <div class="brazil-header">
                            <div class="flag-icon">ðŸ‡§ðŸ‡·</div>
                            <div>
                                <span class="brazil-equiv-label">Real Equivalent</span>
                                <span class="brazil-equiv-text">${data.brazilEquiv}</span>
                            </div>
                        </div>
                        <div class="brazil-explanation">${data.brazilTip}</div>
                    </div>
                </div>
            `).join('');

            // Full HTML Injection
            container.innerHTML = `
                <div class="intro-section">
                    <h2 class="intro-title">${data.title}</h2>
                    <p class="intro-text">${data.why}</p>

                    <!-- Diagram Container -->
                    ${data.diagramCode ? `
                    <div class="diagram-container">
                        <span class="diagram-label">Visual Logic</span>
                        <div class="mermaid">
                            ${data.diagramCode}
                        </div>
                    </div>
                    ` : ''}

                    ${comparisonHTML}
                    ${powerHTML}
                </div>

                <div class="scenarios-grid">
                    ${scenariosHTML}
                </div>

                <div class="exercise-section">
                    <p class="prompt">${data.exercise.prompt}</p>
                    <input type="text" id="user-input" class="input-area" placeholder="Type your translation here..." onkeypress="handleEnter(event)">
                    <br>
                    <button class="check-btn" onclick="checkAnswer()">Check Answer</button>
                    <div id="feedback-msg" class="feedback"></div>
                </div>
            `;

            // Re-run Mermaid to render the new diagram
            if (data.diagramCode) {
                try {
                    await mermaid.run({
                        nodes: document.querySelectorAll('.mermaid')
                    });
                } catch (e) {
                    console.log("Mermaid error:", e);
                }
            }
        }

        function switchTab(key) {
            // Update Buttons
            document.querySelectorAll('.nav-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            // Render Content
            renderContent(key);
        }

        function checkAnswer() {
            const input = document.getElementById('user-input').value.toLowerCase();
            const feedback = document.getElementById('feedback-msg');
            const data = lessonData[currentKey].exercise;

            // Check if all keywords are present (simple validation)
            const hitCount = data.keywords.filter(word => input.includes(word.toLowerCase())).length;

            // Logic: If they hit the main phrase or most keywords
            if (hitCount >= 2 || input.includes(data.keywords[0])) {
                feedback.textContent = data.successMsg;
                feedback.className = "feedback success";
            } else {
                feedback.textContent = data.failMsg;
                feedback.className = "feedback error";
            }
        }

        function handleEnter(e) {
            if (e.key === 'Enter') checkAnswer();
        }

        // Initial Render
        renderContent('as-per');

    </script>
</body>
</html>
